<script>
    import {FormValidator, formConfig} from "./FormValidator"

    const contactForm = document.querySelector('.contact__form');
    const contactFormValidation = new FormValidator(formConfig, contactForm);
    contactFormValidation.enableValidation();
</script>

<section class='contact'>
    <h4 class='contact__title'>Creemos algo juntos</h4>
    <form class='contact__form' novalidate>
        <fieldset class='contact__form-set'>
            <label class='contact__form-label' for='email'>E-mail</label>
            <input type='email'
                class="contact__form-input contact__form-email"
                id="email"
                name="email"
                placeholder="correo@correo.com"
                required />
            <div class="contact__line"></div>
            <span class="contact__input-error email-error"></span>
            <label class='contact__label-message' for='message'>Mensaje</label>
            <textarea 
                class="contact__form-input contact__form-message"
                id="message"
                name="message"
                placeholder="Trabajemos juntos"
                minlength="5"
                required />
            <div class="contact__line"></div>
            <span class="contact__input-error message-error"></span>
            <button
                disabled
                type="submit"
                class="contact__form-button contact__form-button_active contact__create-button contact__form-button_disabled"
                value="send"
                >
                Enviar
            </button>
        </fieldset>
    </form>
</section>

<style>
    .contact {
        padding: 20px 0 40px 0;
        margin: 0 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .contact__title {
        margin: 0;
        padding: 2px 0 10px 0;
    }
    .contact__form  {
        width: 100%;
    }
    .contact__form-set {
        border: none;
        margin: 0;
        padding: 0;
    }
    .contact__form-input {
        width: 97%;
    }
    .contact__form-message {
        height: 100px;
        resize: none;
    }
    .contact__line {
        margin: 5px 0;
        height: 1px;
        background-color: #fff;
        width: 100%;
    }
    .contact__form-input_error {
        background-color: var(--first-color);
    }
    .contact__input-error {
        font-size: 12px;
        color: var(--first-color);
        opacity: 0;
        position: relative;
        top: calc(100% + 6px);
        transition: 0.3s;
        display: flex;
        justify-content: center;
        margin: 3px 3% 0;
        width: 90%;
        padding: 0 0 10px 0;
    }
    .contact__input-error_active {
        opacity: 1;
    }
    .contact__form-button_active {
        background-color: var(--first-color);
        border: 0;
        border-radius: 5px;
        height: 30px;
        color: #fff;
    }
    .contact__form-button_active:hover {
        opacity: 0.8;
    }
    ::placeholder {
        font-size: 12px;
    }
</style>